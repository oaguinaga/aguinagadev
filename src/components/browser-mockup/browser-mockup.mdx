import { Meta } from '@storybook/addon-docs/blocks';

<Meta title="Components/BrowserMockup/Guide" />

# BrowserMockup

Minimal, mobile-first browser chrome wrapper for showcasing images and videos. Built for Next.js + TypeScript with a small, dependency-free footprint. The component scales to its container width and supports a configurable aspect ratio via prop or CSS variable.

## Props

```ts
type BrowserMockupProps = {
  src: string;
  type: 'image' | 'video';
  aspectRatio?: string; // e.g., '16:9', '4:3', '1 / 1', 'auto'
  showControls?: boolean; // default true (video only)
  showAddressBar?: boolean; // default false
  addressText?: string; // centered in address bar
  objectFit?: 'cover' | 'contain'; // default 'cover'
  className?: string;
  style?: React.CSSProperties;
  alt?: string; // images, and used as aria-label fallback for videos
}
```

### Defaults

- **showControls**: true (videos)
- **showAddressBar**: false
- **objectFit**: 'cover'
- **aspectRatio**: CSS default via `--browser-aspect-ratio` (16 / 9)

## CSS Variables

All theming and sizing use CSS variables. Override at the component root or a parent container.

```css
:root {
  --browser-border-radius: 14px;
  --browser-border-color: rgba(0, 0, 0, 0.08);
  --browser-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
  --browser-chrome-bg: #f6f6f7;
  --browser-address-bg: #ffffff;
  --browser-address-text: #5b5f6a;
  --browser-dot-size: 10px;
  --browser-dot-gap: 6px;
  --browser-chrome-height: 40px;
  --browser-viewport-bg: #0b0c10;
  --browser-aspect-ratio: 16 / 9; /* overridden by prop if provided */
}
```

### Aspect Ratio

- Pass `aspectRatio="16:9"`, `"4:3"`, or valid CSS like `"1 / 1"`. Use `"auto"` to let height grow with content.
- When provided as a prop, the component sets `--browser-aspect-ratio` inline.

## Behavior

- If `type="image"`, renders `<img loading="lazy">`.
- If `type="video"`, renders `<video autoplay muted loop playsInline>`.
- Videos lazy-load with `IntersectionObserver` and only attach once visible.
- `showControls` toggles native controls for video (default true). Autoplay is always silent.
- `showAddressBar` shows a centered fake URL (`addressText`).

## Accessibility

- Wrapper uses `role="group"` with an informative `aria-label`.
- Image uses `alt`; video uses `aria-label` fallback from `alt`.
- Keyboard focus: if `showControls=false`, video is focusable (`tabIndex=0`).

## Usage

```tsx
import { BrowserMockup } from '@/components/browser-mockup';

export default function Example() {
  return (
    <div style={{ maxWidth: 420 }}>
      <BrowserMockup
        src="/map-land/map-land.mp4"
        type="video"
        aspectRatio="16:9"
        showControls
        showAddressBar
        addressText="https://example.app/maps"
        objectFit="cover"
      />
    </div>
  );
}
```

### Image Example

```tsx
<BrowserMockup
  src="/next.svg"
  type="image"
  aspectRatio="4:3"
  objectFit="contain"
  alt="Next.js logo"
/>
```


